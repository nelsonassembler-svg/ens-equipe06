<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calend√°rio 2026 - Equipe 06</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #D97B7B 0%, #B85555 100%);
            color: white;
            text-align: center;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .premium-badge {
            background: #ffd700;
            color: #333;
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
        }

        .calendario {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .calendario h2 {
            color: #B85555;
            border-bottom: 3px solid #E8B4B8;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .evento {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #88AB75;
            cursor: pointer;
            transition: all 0.3s;
        }

        .evento:hover {
            transform: translateX(5px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .evento.editavel:hover {
            border-left-color: #ffd700;
        }

        .evento-data {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .evento-descricao {
            color: #666;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin: 5px;
            transition: all 0.3s;
        }

        .btn-primary { background: #88AB75; color: white; }
        .btn-secondary { background: #5F9EA0; color: white; }
        .btn-danger { background: #D97B7B; color: white; }

        /* Modal de Edi√ß√£o */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.show { display: flex; }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
        }

        .modal-content h3 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .modal-content input {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
        }

        footer {
            background: white;
            text-align: center;
            padding: 20px;
            border-radius: 15px;
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            body { padding: 10px; }
            .calendario { padding: 15px; }
        }
    </style>
</head>
<body>
    <header>
        <h1>üìÖ Calend√°rio 2026</h1>
        <p>Equipe 06 - Nossa Senhora da Paz</p>
        <div id="userStatus"></div>
    </header>

    <div class="calendario">
        <h2>Janeiro 2026</h2>
        <div class="evento" data-id="1" data-data="12/01/2026" onclick="editarEvento(this)">
            <div class="evento-data">12/01/2026 (Segunda)</div>
            <div class="evento-descricao">REUNI√ÉO SETOR A</div>
        </div>
        <div class="evento" data-id="2" data-data="18/01/2026" onclick="editarEvento(this)">
            <div class="evento-data">18/01/2026 (Domingo)</div>
            <div class="evento-descricao">REUNI√ÉO DE CALEND√ÅRIO - Casal Anfitri√£o: Ana Lucia e Nelson</div>
        </div>
        <div class="evento" data-id="3" data-data="25/01/2026" onclick="editarEvento(this)">
            <div class="evento-data">25/01/2026 (Domingo)</div>
            <div class="evento-descricao">MISSA MENSAL SETOR A</div>
        </div>
    </div>

    <div class="calendario">
        <h2>Fevereiro 2026</h2>
        <div class="evento" data-id="4" data-data="15/02/2026" onclick="editarEvento(this)">
            <div class="evento-data">15/02/2026 (Domingo)</div>
            <div class="evento-descricao">REUNI√ÉO PREPARAT√ìRIA</div>
        </div>
        <div class="evento" data-id="5" data-data="22/02/2026" onclick="editarEvento(this)">
            <div class="evento-data">22/02/2026 (Domingo)</div>
            <div class="evento-descricao">MISSA MENSAL SETOR B</div>
        </div>
        <div class="evento" data-id="6" data-data="24/02/2026" onclick="editarEvento(this)">
            <div class="evento-data">24/02/2026 (Ter√ßa)</div>
            <div class="evento-descricao">1¬™ REUNI√ÉO FORMAL - Casal Anfitri√£o: Ana Am√©lia e Rodrigues</div>
        </div>
    </div>

    <button class="btn btn-secondary" onclick="window.history.back()">‚Üê Voltar</button>

    <!-- Modal de Edi√ß√£o -->
    <div id="modalEdicao" class="modal">
        <div class="modal-content">
            <h3>‚úèÔ∏è Editar Evento</h3>
            <label>Data (DD/MM/AAAA):</label>
            <input type="text" id="editData" placeholder="14/01/2026">
            <label>Descri√ß√£o:</label>
            <input type="text" id="editDescricao" placeholder="Descri√ß√£o do evento">
            <div style="margin-top: 20px;">
                <button class="btn btn-primary" onclick="salvarEdicao()">üíæ Salvar</button>
                <button class="btn btn-secondary" onclick="fecharModal()">‚ùå Cancelar</button>
            </div>
        </div>
    </div>

    <footer>
        <p style="font-weight: bold;">Desenvolvido por:</p>
        <p style="font-size: 1.1em; color: #1F4E78;">Nelson Tomaz Catunda Magalh√£es</p>
        <p><a href="mailto:nelsonassembrer@gmail.com" style="color: #5F9EA0; text-decoration: none;">üìß nelsonassembrer@gmail.com</a></p>
        <p style="color: #666; font-size: 0.9em;">¬© 2026 - Todos os direitos reservados</p>
    </footer>

    <script>
        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyCsqAHzIXVlAdYjSCGvNyRVE1IiIHEcEPc",
            authDomain: "ens-equipe06.firebaseapp.com",
            projectId: "ens-equipe06",
            storageBucket: "ens-equipe06.firebasestorage.app",
            messagingSenderId: "602404779314",
            appId: "1:602404779314:web:e8db2bbd6971264060532b"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        const EMAIL_PREMIUM = "nelsontcmagalhaes@gmail.com";
        let isPremium = false;
        let eventoAtual = null;

        // Verificar usu√°rio
        auth.onAuthStateChanged((user) => {
            if (user) {
                isPremium = user.email === EMAIL_PREMIUM;
                
                if (isPremium) {
                    document.getElementById('userStatus').innerHTML = '<span class="premium-badge">‚≠ê PREMIUM - Clique nos eventos para editar</span>';
                    document.querySelectorAll('.evento').forEach(e => e.classList.add('editavel'));
                } else {
                    document.getElementById('userStatus').innerHTML = '<span class="premium-badge">üëÅÔ∏è VISUALIZADOR</span>';
                }
            } else {
                document.getElementById('userStatus').innerHTML = '<span class="premium-badge">üëÅÔ∏è VISITANTE</span>';
            }
        });

        // Editar evento
        function editarEvento(elemento) {
            if (!isPremium) {
                alert('‚õî Apenas o usu√°rio Premium pode editar eventos');
                return;
            }

            eventoAtual = elemento;
            const data = elemento.querySelector('.evento-data').textContent.split(' ')[0];
            const descricao = elemento.querySelector('.evento-descricao').textContent;

            document.getElementById('editData').value = data;
            document.getElementById('editDescricao').value = descricao;
            document.getElementById('modalEdicao').classList.add('show');
        }

        // Salvar edi√ß√£o
        function salvarEdicao() {
            if (!eventoAtual) return;

            const novaData = document.getElementById('editData').value;
            const novaDescricao = document.getElementById('editDescricao').value;

            // Validar data
            if (!/^\d{2}\/\d{2}\/\d{4}$/.test(novaData)) {
                alert('‚ùå Data inv√°lida! Use o formato DD/MM/AAAA');
                return;
            }

            // Obter dia da semana
            const [dia, mes, ano] = novaData.split('/');
            const data = new Date(ano, mes - 1, dia);
            const diasSemana = ['Domingo', 'Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta', 'S√°bado'];
            const diaSemana = diasSemana[data.getDay()];

            // Atualizar no DOM
            eventoAtual.querySelector('.evento-data').textContent = `${novaData} (${diaSemana})`;
            eventoAtual.querySelector('.evento-descricao').textContent = novaDescricao;

            // Salvar no localStorage
            const eventos = JSON.parse(localStorage.getItem('calendario_eventos') || '{}');
            eventos[eventoAtual.dataset.id] = { data: novaData, descricao: novaDescricao };
            localStorage.setItem('calendario_eventos', JSON.stringify(eventos));

            alert('‚úÖ Evento atualizado com sucesso!');
            fecharModal();
        }

        // Fechar modal
        function fecharModal() {
            document.getElementById('modalEdicao').classList.remove('show');
            eventoAtual = null;
        }

        // Carregar eventos salvos
        window.addEventListener('load', () => {
            const eventos = JSON.parse(localStorage.getItem('calendario_eventos') || '{}');
            
            Object.keys(eventos).forEach(id => {
                const elemento = document.querySelector(`[data-id="${id}"]`);
                if (elemento) {
                    const evento = eventos[id];
                    const [dia, mes, ano] = evento.data.split('/');
                    const data = new Date(ano, mes - 1, dia);
                    const diasSemana = ['Domingo', 'Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta', 'S√°bado'];
                    const diaSemana = diasSemana[data.getDay()];
                    
                    elemento.querySelector('.evento-data').textContent = `${evento.data} (${diaSemana})`;
                    elemento.querySelector('.evento-descricao').textContent = evento.descricao;
                }
            });
        });
    </script>
</body>
</html>

